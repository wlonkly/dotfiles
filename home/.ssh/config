#    $OpenBSD: ssh_config,v 1.9 2001/03/10 12:53:51 deraadt Exp $

# This is ssh client systemwide configuration file.  See ssh(1) for more
# information.  This file provides defaults for users, and the values can
# be changed in per-user configuration files or on the command line.

# Configuration data is parsed as follows:
#  1. command line options
#  2. user-specific file
#  3. system-wide file
# Any configuration value is only changed the first time it is set.
# Thus, host-specific definitions should be at the beginning of the
# configuration file, and defaults at the end.

# Site-wide defaults for various options

# Host *
#   ForwardAgent no
#   ForwardX11 no
#   RhostsAuthentication no
#   RhostsRSAAuthentication yes
#   RSAAuthentication yes
#   PasswordAuthentication yes
#   FallBackToRsh no
#   UseRsh no
#   BatchMode no
#   CheckHostIP yes
#   StrictHostKeyChecking yes
#   IdentityFile ~/.ssh/identity
#   IdentityFile ~/.ssh/id_dsa
#   IdentityFile ~/.ssh/id_rsa1
#   IdentityFile ~/.ssh/id_rsa2
#   Port 22
#   Protocol 2,1
#   Cipher blowfish
#   EscapeChar ~

Host octopus
    HostName octopus.mati.ca
	Port 2222
    IdentityFile ~/.ssh/id_rsa.personal
    IdentitiesOnly yes

Host minnow
	HostName minnow.mati.ca
    User rich
    IdentityFile ~/.ssh/id_rsa.personal
    IdentitiesOnly yes

Host livingroom bedroom
    User root

Host ebi
	HostName minnow.mati.ca
	User ebi
    IdentityFile ~/.ssh/id_rsa.personal
    IdentitiesOnly yes

Host github.com
    ClearAllForwardings yes

Host *.pd *.pd-internal.com 
  User rlafferty
  IdentityFile ~/.ssh/id_rsa.pagerduty
  IdentitiesOnly yes

#### BEGIN PD SSH CONFIG

# These hosts are able to be accessed directly via SSH.
Host prod-infra-gw*.pd stg-infra-gw*.pd gw.pd stg-gw.pd
  ConnectTimeout 15
  ProxyCommand none

# Staging hosts jump through the staging gateways
Host int*.pd stg*.pd lt*.pd testdr*.pd
  ProxyCommand bash /usr/local/bin/proxy_jump %h %p "stg-gw.pd"

# All other hosts jump through the prod gateways.
# Also, set common config for all PD hosts.
Host *.pd
  Hostname %h-internal.com
  ForwardAgent yes
  ServerAliveInterval 10
  ProxyCommand bash /usr/local/bin/proxy_jump %h %p "gw.pd"
  UserKnownHostsFile ~/.ssh/pd_known_hosts
  HashKnownHosts yes

#### END PD SSH CONFIG

Host ga-nlb-test.rlafferty.pd-development.com
  ServerAliveInterval 30

host i-* mi-*
    ProxyCommand sh -c "aws ssm start-session --target %h --document-name AWS-StartSSHSession --parameters 'portNumber=%p'"

Host *
  User rich
  ForwardAgent yes
  NoHostAuthenticationForLocalhost yes
  AddKeysToAgent yes
  IgnoreUnknown UseKeychain
  UseKeychain yes
  ServerAliveInterval 120
  ControlPath ~/.ssh/c/%C
  ControlMaster auto
  ControlPersist 15m 

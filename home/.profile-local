# profile-local: Rich's machine-specific .profile
#
# last modified 2000/07/08
#

if [ -x /bin/dnsdomainname ]
then
    DNSDOMAINNAME=$(/bin/dnsdomainname)
else
    DNSDOMAINNAME=$HOSTNAME
fi

#
#  1st pass: by domain
#
# case $DNSDOMAINNAME in
#
## *2ndsiteinc*|*freshbooks*|*fbks.in*)
##   something here
## ;;
##
## esac


#
#  2nd pass: individual hosts
#
case $HOSTNAME in

flounder.*)
   export PATH=$PATH:~/.rvm/bin
   alias locate="mdfind -name"
   alias lock="/System/Library/CoreServices/Menu\ Extras/User.menu/Contents/Resources/CGSession -suspend"
;;

rlafferty.*)
   export GIT_AUTHOR_EMAIL='rlafferty@pagerduty.com'
   export GIT_COMMITTER_EMAIL=${GIT_AUTHOR_EMAIL}
   alias locate="mdfind -name"
   alias lock="/System/Library/CoreServices/Menu\ Extras/User.menu/Contents/Resources/CGSession -suspend"
   # for updated `aws` command
   # export PATH="$PATH:/Users/rlafferty/Library/Python/2.7/bin"

    function knifestg
    {
      bundle exec knife "$@" -c ~/.chef/stage/knife.rb
    }
     
    function knifeprod
    {
      bundle exec knife "$@" -c ~/.chef/prod/knife.rb
    }

    function knifedr
    {
      bundle exec knife "$@" -c ~/.chef/dr/knife.rb
    }

    function knifetestdr
    {
      bundle exec knife "$@" -c ~/.chef/testdr/knife.rb
    }


    function stgnode
    {
      cd ~/code/chef; knifestg search node "$@" -i
    }

    function prodnode
    {
      cd ~/code/chef; knifeprod search node "$@" -i
    }

    function livetail
    {
      { cd ~/.livetail; unbuffer ./livetail $@; }
    }

esac
